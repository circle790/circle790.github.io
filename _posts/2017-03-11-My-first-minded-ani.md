---
layout: post
#标题配置
title:  "用最常规的技术实现不一般的环境亮灯效果"
#时间配置
date:   2017-03-11 20:10:00 +0800
categories: WorkingShow
tag: CSS3
---

* content
{:toc}

引言
------------------------
是的，这里新增一个文章分类用于记叙和分享工作中遇到的趣事，相信类似的事情大家也遇到过不少哦，希望能够互相参考，在学习之余给大家带来一丝欢笑，逗出一片祥和。

这里的内容来自最近完成的一个不大不小的项目，据说产品广告还是找当红"小爷儿"拍摄的呢~

haha~,我的小鹿也扑腾了两下。

说明
------------------------
这里有必要进行一点说明，很多时候很多效果并不是无法实现，只是大脑回路里的一个弯道没有转过来，并且未必要掌握最高精尖的技术才能实现。譬如说这里，我们先来活动一下脑筋，热下身。

![loading]({{ '/styles/images/p_03_11_loading.gif' | prepend: site.baseurl  }})

拿到这样一个效果，如果不是经常制作动画的同学很容易想到`canvas`绘图，确实很容易实现，但是掌握这门技术又是另一个level了，那么`canvas`如何绘图才能实现，明白思路一切都好办了，想必是一个绘制字体的外形轮廓，一个绘制波浪，操作波浪动画运动从而形成动画吧，倘若仅仅使用图片是否能够实现呢，显然可以，猛击[Demo]({{ '/demos/p_03_11_loading.html' | prepend: site.baseurl  }})查看示例。

![loading]({{ '/styles/images/p_03_11_lgk.jpg' | prepend: site.baseurl  }})

是不是很简单，恍然大悟了。

故事
------------------------
接下来我分享一下项目过程中的轶闻趣事吧，使用最常规的技术实现不一般的效果，虽然技术不足为奇，但是这种思路可能算新颖，值得记录一下了。

事情的经过是这样的...

那是一个晴朗的下午，办公区域如往常一样人来人往，各自忙碌着，嘈杂中又井然有序。初春的阳光从窗帘未遮住的一个边角照射到我的身上，暖暖的我正快速的舞动着灵动的手指洋洋洒洒的敲击着键盘，做着一个项目的上线收尾工作。这时丘丘弹窗闪动了，我自然的打开窗口阅读消息内容，是项目经理发布的新项目情报，不同的是这一次项目等级为A，而且最后一栏的备注信息不再空着，而是醒目写着“任务重大且紧急，认真细致对待”。我正纳闷寻思这究竟是何种项目时，项目经理已经走了过来。

“小A呐，手上的项目快完成了吧，这次给你排的项目比较重大，客户领导都很重视，时间也比较紧急，一定要认真细致的对待，你看下”。我随即答应一声并点开demo链接地址，查看项目详细内容。经理紧接着说道：“这个网站大部分和往常一样，有几个效果你好好琢磨下，做的漂亮点”。“ok~”，新的一轮战争打响了。

很快，当天下午就拿到了设计原稿，与射击湿大致沟通了网站结构逻辑及实现效果后，我泡了一杯速溶咖啡缓解一下身体的疲惫。咖啡过后一切如期进行，到下班的时候，首页及公用组件部分已经基本完成。
几天过后到了最艰难的时候，在产品专题页遇到一张这样的效果图。

![effect]({{ '/styles/images/prodt.jpg' | prepend: site.baseurl  }})

画面看似完整实则无从下手，小车两边的前后灯按钮是什么功能，完全不知所措，一脸懵逼的我只好再次呼叫射击湿。

“哎呀，这就是一个简单的灯光点亮效果嘛，点击前灯的时候前灯点亮，点击尾灯的时候切换尾灯点亮就好了啊~”。

...

“尾灯的图片在这个隐藏的图层里面了，还需要我帮你做一个展示图么”！

我仔细核对着文件图层，尾灯效果图片确实存在另一个隐藏的图层中，可是需求是点击亮灯和点击切换，如何让一个按钮执行两个动作呢，大脑飞速的转动立刻进行现实场景模拟，家里客厅的水晶灯好像是通过不同的按钮进行模式切换，但是不同的灯模式可同时出现，前后灯同时出现不行，亮灯和切换得有两个事件控制，鼠标操作的话hover事件恰好是两个事件。与射击湿说明情况后，愉快的决定就这样做。

逻辑清楚后，制作就简单了，[点击这里查看效果]({{ '/demos/p_03_11_demo01.html' | prepend: site.baseurl  }})，很快就搞定了，马上丢给射击湿验收，心想着“也没有多复杂嘛”，"屎尿"未及的是射击湿并没有满意。

“这个效果还得再改改...不是说了点亮效果么，这哪是点亮效果，duang~一下就出来了，这里应该是那种慢慢的照亮环境...”

“...那种，不是太明白...”

“你家点蜡烛的时候是duang一下就亮了，就是要这样变化的过程。”
 
嗦嘎，原来是要这样的效果，可是图片上的亮度怎么影响到图片上的亮度，这点亮效果还真是没法实现呢，“这点亮效果我无法实现呐,大兄弟...”。

气氛一下子尴尬了，射击湿摇了摇头回到自己的座位，并招手示意，“傻屌~过来，给你个参考”。

我不情愿的走过去，心理暗自骂道有参考不早点给过来，害人家折腾。点开射击湿甩过来的这个链接，[点击这里查看](http://www.mi.com/scooter/?cfrom=search),熟练的使用万花筒写轮眼copy起来，不料这是一个血继限界的术，使用了`video`,这下玩**完**了。不行，还得找射击湿沟通，可是作为新人小白的我，人家都给了参考了，再找有点说不过去啊，是时候搬救援了，看看他们有没有好的解决办法。首先找到前端部组长，也是我的直属领导——小凤姐（一个看破世俗的俏女子，一切复杂高深的事情她都能用一种浅显通俗的语言解释明白，虽然有时候凶了一点，但是挺佩服她的，年龄相差不大，我们都尊称她为姐）。

“小凤姐，有时间么，可以帮我看看这个效果么，有没有什么好的解决办法吖？”

果然，她一眼看出了我的难处，“哎哟喂，这个使用的是视频饿，这个前端没法弄，让射击湿做视频或者动图放这儿”，“好~”。话音未落，设计总监闻声赶到查问起来，“什么效果这么折腾我看看...哦，是的，那这个让射击湿做个视频，前端是做不了，前端只能改改透明度什么的，没事，这个让射击湿来弄~”

“...”

“前端只能改改透明度”，背上这句话，不是给整个前端部掉价么，如果低头加薪无望，苹果电脑无望，必须死撑。于是化悲痛为力量，灵感涌上天灵。制作阴影的`box-shadow`是不是可以设置内阴影营造这种黑暗呢，图片上的slogan也有经常使用这种方法将底色变暗哦，将图片变亮是没办法，但是用这个方法将图片变暗似乎合适。说干就干，于是修改为下面的方式。

[点击这里查看demo]({{ '/demos/p_03_11_demo02.html' | prepend: site.baseurl  }})

好啦，这样同时也实现了安扭切换图的需求。~总算是挽回了脸面~haha~


---------
补充：当然，效果虽然实现了，但并不完美，深入探讨的话依旧存在很多问题，比如loading动画存在兼容性以及在移动端运行不是很流畅的问题，环境亮灯的效果也不太流畅，毕竟受浏览器渲染性能和电脑配置一些影响，或许还有更好的办法，知道的人可以评论区留言告诉我哟~。

注：因故事情节需要，文章情感色彩偏重，且部分内容虚构，仅仅是交流哦~谢谢观看~

---------

